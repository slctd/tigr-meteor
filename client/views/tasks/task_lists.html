<template name="taskLists">
    <div class="wrapper wrapper-content">
        {{#if currentUser }}
        <div class="row">
              <div class="col-lg-6">
                  <div class="ibox float-e-margins">
                      <div class="ibox-title">
                            {{#if editing}}
                                <form class="col-xs-6 js-edit-form list-edit-form">
                                    <div class="form-group">
                                        <input class="no-margins" type="text" name="name" value="{{name}}">
                                        <a href="#" class="js-cancel"><span class="fa fa-times js-cancel" title="Cancel"></span></a>
                                    </div>
                                </form>
                            {{else}}
                                <h5><span class="title-wrapper">{{name}}</span>
                                    <span class="badge badge-primary count-list">{{incompleteCount}}</span></h5>
                            {{/if}}
                            {{>taskListMenu}}
                      </div>
                      <div class="ibox-content">
                          <form class="js-todo-new todo-new input-symbol">
                              <input type="text" placeholder="Type to add new tasks">
                              <span class="icon-add js-todo-add"></span>
                          </form>
                          <!--<div class="content-scrollable list-items">-->
                              {{#if todosReady}}
                                  {{#with _id}} {{! Establish new data context with only the '_id'
                                      field. This way, when the 'incompleteCount' field
                                      changes, we don't re-render the list contents }}
                                      <ul class="todo-list m-t small-list">
                                          {{#each todos this}}
                                              {{> task}}
                                          {{else}}
                                              <div class="wrapper-message">
                                                  <div class="title-message">No tasks here</div>
                                                  <div class="subtitle-message">Add new tasks using the field above</div>
                                              </div>
                                          {{/each}}
                                      </ul>
                                  {{/with}}
                              {{else}}
                                  <div class="wrapper-message">
                                      <div class="title-message">Loading tasks...</div>
                                  </div>
                              {{/if}}
                          <!--</div>-->
                      </div>
                  </div>
              </div>
      </div>
        {{/if}}
  </div>
</template>
